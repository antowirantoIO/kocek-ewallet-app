flowchart TB

linkStyle default stroke:green,stroke-width:3px;

subgraph APP [<b>APP</b>]
    style APP fill:#F0FFF0;

    main((main)) -.-x |calls| app([APP])
    app -..-> |uses| app/router[router]
    app/router -.-> |routes| app/bottom_navigator[bottom_navigator]
end

subgraph DESIGN [<b>DESIGN</b>]
    style DESIGN fill:#FFFAFA;

    design{{design}}

    design -.- |has| design/constants[constants]
    design -.- |has| design/assets[assets]
    design -.- |has| design/widgets[widgets]

    design/constants -.- |has| design/constants/assets.gen[assets.gen]
    design/constants -.- |has| design/constants/fonts.gen[fonts.gen]
    design/constants -.- |has| design/constants/themes[themes]
end

subgraph FEATURES [<b>FEATURES</b>]
    style FEATURES fill:#E0FFFF;

    features{{features}}

    subgraph SETTINGS [ ]
        style SETTINGS fill:#ffffff,stroke-dasharray: 15 5;

        features/settings -.- |has| features/settings/settings.page[settings.page]
        features/settings/settings.page -.-> |manages| features/settings/settings.cubit[settings.cubit]
    end

    subgraph AUTH [ ]
        style AUTH fill:#ffffff,stroke-dasharray: 15 5;

        features/auth -.- |has| features/auth/auth.cubit[auth.cubit]
        features/auth -.- |has| features/auth/login.page[login.page]

        features/auth/login.page -.-> |manages| features/auth/login.cubit[login.cubit]
        features/auth/login.cubit -.-> |uses| features/auth/auth.service[auth.service]
        features/auth/login.cubit -.-> |uses| features/auth/user.model[user.model]
        features/auth/auth.service -.-> |uses| features/auth/user.model
    end

    subgraph HOME [ ]
        style HOME fill:#ffffff,stroke-dasharray: 15 5;

        features/home -.- |has| features/home/home.page[home.page]
    end
end

subgraph INFRA [<b>INFRASTRUCTURE</b>]
    style INFRA fill:#FFE4E1;

    infra{{infrastructure}}
    infra -.- |has| infra/flavors([flavors])
        infra/flavors -.- |has| flavors/env_dev[env_dev]
        infra/flavors -.- |has| flavors/env_prod[env_prod]

    infra -.- |has| infra/analytics([analytics])
        infra/analytics -.- |has| analytics/analytics[analytics]
            analytics/analytics -.-o |notifys| sentry[(sentry)]
        infra/analytics -.- |has| analytics/failure[failure]
        infra/analytics -.- |has| analytics/observers[observers]
            analytics/observers -.-o |listens| analytics/failure
            analytics/observers -.-o |notifys| analytics/logger[logger]
        infra/analytics -.- |has| analytics/logger[logger]

    infra -.- |has| infra/commons([commons])
        infra/commons -.- |has| commons/extensions[extensions]
            commons/extensions -.- |has| extensions/color_ext[color_ext]
            commons/extensions -.- |has| extensions/context_ext[context_ext]
            commons/extensions -.- |has| extensions/num_ext[num_ext]
            commons/extensions -.- |has| extensions/string_ext[string_ext]
            commons/extensions -.- |has| extensions/text_style_ext[text_style_ext]
        infra/commons -.- |has| commons/others[others]
            commons/others -.- |has| ...
        infra/commons -.- |has| commons/utils[utils]
            commons/utils -.- |has| utils/aliases[aliases]
            commons/utils -.- |has| utils/my_platform[my_platform]
            commons/utils -.- |has| utils/paddings[paddings]
            commons/utils -.- |has| utils/radiuses[radiuses]
            commons/utils -.- |has| utils/timings[timings]
        infra/commons -.- |has| commons/widgets[widgets]
            commons/widgets -.- |has| widgets/avatar_image[avatar_image]
            commons/widgets -.- |has| widgets/blend_mask[blend_mask]
            commons/widgets -.- |has| widgets/shimmer_effect[shimmer_effect]

    infra -.- |has| infra/storage([storage])
        infra/storage -.- |has| storage/caches[caches]
            storage/caches -.- |has| storage/caches/in_memory_cache[in_memory_cache]
        infra/storage -.- |has| storage/storages[storages]
            storage/storages -.- |has| storage/storages/in_memory_token_storage[in_memory_token_storage]
            storage/storages -.- |has| storage/storages/secure_token_storage[secure_token_storage]

    infra -.- |has| infra/theming([theming])
        infra/theming -.- |has| theming/theme.cubit[theme.cubit]
        theming/theme.cubit -.-> |uses| theming/custom_theme.model[custom_theme.model]

    infra -.- |has| infra/networking([networking])
        infra/networking -.- |has| networking/o_auth2_token[o_auth2_token]
        infra/networking -.- |has| networking/client[client]
            networking/client -.-> |uses| networking/o_auth2_token
            networking/client -.-> |uses| networking/exceptions[exceptions]
            networking/client -.-> |uses| networking/interceptors[interceptors]
end

subgraph DEPS [<b>DEPS</b>]
    style DEPS fill:#FFFFE0;

    deps{{deps}}
    deps -.- |exports| deps/packages([packages])
    deps/features ==> |uses| deps/packages
    deps -.- |exports| deps/infrastructure([infrastructure])
    deps/features ==> |uses| deps/infrastructure
    deps/features ==> |uses| deps/locator
    deps -.- |exports| deps/locator([locator])
    deps -.- |exports| deps/features([features])
    deps -.- |exports| deps/design([design])
    deps/features ==> |uses| deps/design
end

app --> |uses| deps
app -.-o |listens| infra/theming
app -.-o |listens| features/auth

deps/infrastructure -.- |imports| infra
features --> |uses| deps
infra --> |uses| deps

deps/locator ==> |injects| infra
deps/locator ==> |injects| features/auth
deps/locator ==> |injects| features/home

deps/design -.- |imports| DESIGN
deps/features -.- |imports| features

features -..- |has| features/auth([AUTH])
features -..- |has| features/home([HOME])
features -.- |has| features/settings([SETTINGS])

features/auth/auth.cubit -..-o |listens| infra/networking
features/auth/login.cubit -.-o |notifys| infra/networking
features/settings/settings.cubit -.-o |notifys| infra/theming
